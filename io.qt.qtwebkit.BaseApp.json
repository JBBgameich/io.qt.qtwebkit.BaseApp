{
  "id": "io.qt.qtwebkit.BaseApp",
  "runtime": "org.kde.Platform",
  "sdk": "org.kde.Sdk",
  "runtime-version": "5.13",
  "separate-locales": false,
  "modules": [
    {
      "name": "python-2.7",
      "config-opts": [
        "--enable-shared",
        "--with-ensurepip=yes",
        "--with-system-expat",
        "--with-system-ffi",
        "--enable-loadable-sqlite-extensions",
        "--with-dbmliborder=gdbm",
        "--enable-unicode=ucs4"
      ],
      "post-install": [
        "chmod 644 $FLATPAK_DEST/lib/libpython2.7.so.1.0"
      ],
      "cleanup": [
        "*"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://www.python.org/ftp/python/2.7.16/Python-2.7.16.tgz",
          "sha256": "01da813a3600876f03f46db11cc5c408175e99f03af2ba942ef324389a83bad5"
        }
      ]
    },
    {
      "name": "qtwebkit",
      "buildsystem": "cmake-ninja",
      "builddir": true,
      "config-opts": [
        "-DCMAKE_BUILD_TYPE=Release",
        "-DCMAKE_INSTALL_LIBDIR=lib",
        "-DPORT=Qt"
      ],
      "post-install": [
        "mv /app/mkspecs /app/lib"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://github.com/qt/qtwebkit/archive/v5.212.0-alpha2.tar.gz",
          "sha256": "6db43b931f64857cfda7bcf89914e2730b82164871a8c24c1881620e6bfdeca1"
        },
        {
          "type": "patch",
          "path": "patches/detect_opengl_es2.diff"
        },
        {
          "type": "patch",
          "path": "patches/fix_copyChars_segfault.diff"
        },
        {
          "type": "patch",
          "path": "patches/fix_ftbfs_alpha.diff"
        },
        {
          "type": "patch",
          "path": "patches/fix_ftbfs_x32.diff"
        },
        {
          "type": "patch",
          "path": "patches/fix_i386_detection.patch"
        },
        {
          "type": "patch",
          "path": "patches/fix_selectedHtml_segfault.diff"
        },
        {
          "type": "patch",
          "path": "patches/fix-trojita-plaintext.patch"
        }
      ]
    }
  ]
}
